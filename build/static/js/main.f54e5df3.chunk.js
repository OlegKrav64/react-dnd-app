(this["webpackJsonpreact-dnd-app"]=this["webpackJsonpreact-dnd-app"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"ModalList_overlay__26aAi",modalList:"ModalList_modalList__2O1-B",topSide:"ModalList_topSide__cRqDY",list:"ModalList_list__jef45",loader:"ModalList_loader__1NORa"}},16:function(e,t,a){e.exports={columnHeader:"ColumnHeader_columnHeader__2DzrQ",bottomSide:"ColumnHeader_bottomSide__3zvwx",value:"ColumnHeader_value__3fwdL",split:"ColumnHeader_split__1X3Sb"}},17:function(e,t,a){e.exports={item:"Item_item__mBWUP",btn:"Item_btn__1eZbP",info:"Item_info__i1qR2",wrapper:"Item_wrapper__3F817"}},18:function(e,t,a){e.exports={header:"Header_header__1v0yI",title:"Header_title__3SEjb",controls:"Header_controls__w9BSt",more:"Header_more__3RtV-"}},25:function(e,t,a){e.exports={column:"Column_column__h66ia",list:"Column_list__1t_TG",btn:"Column_btn__1ug7w"}},26:function(e,t,a){e.exports={item:"ModalListItem_item__W89Eq",item__info:"ModalListItem_item__info__2DS6Y",img:"ModalListItem_img__2c0Uf"}},32:function(e,t,a){e.exports={container:"Container_container__3eZVY",row:"Container_row__3xiMU"}},4:function(e,t,a){e.exports={infoBar:"InfoBar_infoBar__2Axo9",row:"InfoBar_row__1xzuy",column:"InfoBar_column__2ZorR",title:"InfoBar_title__WI6vb",bottomSide:"InfoBar_bottomSide__l9Www"}},45:function(e,t,a){e.exports={button:"Button_button__2Lf63"}},56:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(19),i=a.n(n),s=(a(56),a(86)),r=a(50),l=a(7),o=a(3),d=a(23),j=a(25),m=a.n(j),b=a(87),u=a(16),p=a.n(u),O=a(1),_=function(e){var t=e.title;return Object(O.jsxs)("div",{className:p.a.columnHeader,children:[Object(O.jsx)("h4",{children:t}),Object(O.jsxs)("div",{className:p.a.bottomSide,children:[Object(O.jsx)("span",{className:p.a.value,children:"927 kcals"}),Object(O.jsx)("span",{className:p.a.split,children:"40c/40p/20f"})]})]})},f=a(45),h=a.n(f),x=function(e){var t=e.imgUrl,a=e.text,c=e.clickHandler;return Object(O.jsxs)("button",{className:h.a.button,onClick:c,children:[t&&Object(O.jsx)("img",{src:t,alt:a}),Object(O.jsx)("p",{children:a})]})},v=a.p+"static/media/plus.f0ff8f92.svg",g="SET_IS_LOADED",y="SET_ITEMS",N="ADD_ITEM",k="REMOVE_ITEM",w="SET_MODAL_VISIBILITY",S=function(e,t){return{type:w,payload:{value:e,type:t}}},L=a(17),I=a.n(L),C=a(88),D=function(e,t){return{type:N,payload:{obj:e,category:t}}},E=function(e,t){return{type:k,payload:{timestamp:e,category:t}}},M=function(e){var t=e.id,a=e.imageUrl,c=e.kcals,n=e.name,i=e.type,s=e.timestamp,r=e.dispatch,l=Object(C.a)({item:{obj:{id:t,name:n,imageUrl:a,kcals:c,timestamp:s},category:i},type:"item",collect:function(e){return{isDragging:e.isDragging()}}}),o=Object(d.a)(l,2),j=o[0].isDragging,m=o[1],b=j?.4:1;return Object(O.jsxs)("div",{className:I.a.item,ref:m,style:{opacity:b},children:[Object(O.jsx)("div",{className:I.a.wrapper,children:Object(O.jsx)("img",{src:a,alt:n})}),Object(O.jsx)("button",{className:I.a.btn,onClick:function(){r(E(s,i))},children:"\xd7"}),Object(O.jsxs)("div",{className:I.a.info,children:[Object(O.jsxs)("p",{children:[c," kcals"]}),Object(O.jsx)("span",{children:n}),Object(O.jsxs)("span",{children:[" (#",t,")"]})]})]})},B=function(e){var t=e.title,a=e.type,n=Object(b.a)({accept:"item",drop:function(e){return h(e)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),i=Object(d.a)(n,2),s=i[0],r=s.canDrop,j=s.isOver,u=i[1],p=Object(l.b)(),f=Object(l.c)((function(e){return function(e,t){return e.categories[t]}(e,a)})),h=function(e){p(E(e.obj.timestamp,e.category)),p(D(e.obj,a))},g="#fff";return r&&j?g="rgba(157, 209, 237, 0.1)":r&&(g="rgba(164, 237, 157, 0.1)"),Object(O.jsxs)("div",{className:m.a.column,style:{backgroundColor:g},children:[Object(O.jsx)(_,{title:t}),Object(O.jsx)("div",{className:m.a.list,ref:u,children:f.map((function(e){return Object(c.createElement)(M,Object(o.a)(Object(o.a)({},e),{},{key:"".concat(e.id,"__").concat(e.timestamp),type:a,dispatch:p}))}))}),Object(O.jsx)("div",{className:m.a.btn,children:Object(O.jsx)(x,{imgUrl:v,text:"Add alternative",clickHandler:function(){p(S(!0,a))}})})]})},H=a(32),T=a.n(H),U=a(18),R=a.n(U),A=a.p+"static/media/more.e1e2c114.svg",P=a.p+"static/media/right-arrow.fd78490b.svg",W=function(){return Object(O.jsxs)("header",{className:R.a.header,children:[Object(O.jsx)("h2",{className:R.a.title,children:"Test"}),Object(O.jsxs)("div",{className:R.a.controls,children:[Object(O.jsx)("button",{className:R.a.more,children:Object(O.jsx)("img",{src:A,alt:"More"})}),Object(O.jsx)(x,{imgUrl:P,text:"Details"})]})]})},V=a(4),Y=a.n(V),q=a.p+"static/media/checked.08385652.svg",z=function(){return Object(O.jsx)("div",{className:Y.a.infoBar,children:Object(O.jsxs)("div",{className:Y.a.row,children:[Object(O.jsxs)("div",{className:Y.a.column,children:[Object(O.jsx)("p",{className:Y.a.title,children:"Target kcals"}),Object(O.jsx)("p",{className:Y.a.value,children:"4000"})]}),Object(O.jsxs)("div",{className:Y.a.column,children:[Object(O.jsx)("p",{className:Y.a.title,children:"Macro split"}),Object(O.jsx)("p",{className:Y.a.value,children:"40c/40p/20f"})]}),Object(O.jsxs)("div",{className:Y.a.column,children:[Object(O.jsx)("p",{className:Y.a.title,children:"Status"}),Object(O.jsxs)("div",{className:Y.a.bottomSide,children:[Object(O.jsx)("img",{src:q,alt:"Done"}),Object(O.jsx)("p",{className:Y.a.value,children:"Plan is visible"})]})]}),Object(O.jsxs)("div",{className:Y.a.column,children:[Object(O.jsx)("p",{className:Y.a.title,children:"Created"}),Object(O.jsx)("p",{className:Y.a.value,children:"26 apr. 2019"})]})]})})},Z=a(47),J=a.n(Z),F=function(){return J.a.get("db.json").then((function(e){return e.data}))},G=function(){return function(e){F().then((function(t){e({type:y,payload:t}),e({type:g,payload:!0})}))}},Q=[{title:"Breakfast",type:"breakfast"},{title:"Morning Snack",type:"morningSnack"},{title:"Lunch",type:"lunch"},{title:"Afternoon Snack",type:"afternoonSnack"},{title:"Dinner",type:"dinner"}],X=function(){var e=Object(l.b)();return Object(c.useEffect)((function(){e(G())}),[]),Object(O.jsxs)("div",{className:T.a.container,children:[Object(O.jsx)(W,{}),Object(O.jsx)(z,{}),Object(O.jsx)("div",{className:T.a.row,children:Q.map((function(e){return Object(c.createElement)(B,Object(o.a)(Object(o.a)({},e),{},{key:e.type}))}))})]})},K=a(10),$=a.n(K),ee=a(26),te=a.n(ee),ae=function(e){var t=e.name,a=e.imageUrl,c=e.kcals,n=e.id,i=e.activeCategory,s=e.dispatch;return Object(O.jsxs)("li",{className:te.a.item,children:[Object(O.jsxs)("div",{className:te.a.item__info,children:[Object(O.jsx)("div",{className:te.a.img,children:Object(O.jsx)("img",{src:a,alt:t})}),Object(O.jsx)("p",{children:t})]}),Object(O.jsx)(x,{text:"Select",clickHandler:function(){var e={id:n,name:t,imageUrl:a,kcals:c,timestamp:Date.now()};s(D(e,i))}})]})},ce=function(e){return e.meals},ne=function(e){return e.modalList.visible},ie=function(e){return e.modalList.activeCategory},se=function(){var e=Object(l.c)(ce),t=e.isLoaded,a=e.items,n=Object(l.c)(ie),i=Object(l.b)(),s=Object(c.useRef)(null),r=function(e){(e.path||e.composedPath&&e.composedPath()).includes(s.current)||i(S(!1,null))};return Object(c.useEffect)((function(){return window.addEventListener("mousedown",r),function(){window.removeEventListener("mousedown",r)}}),[]),Object(O.jsx)("div",{className:$.a.overlay,children:Object(O.jsxs)("div",{className:$.a.modalList,ref:s,children:[Object(O.jsxs)("div",{className:$.a.topSide,children:[Object(O.jsx)("h3",{children:"Recipes"}),Object(O.jsx)("button",{onClick:function(){i(S(!1,null))},children:"\xd7"})]}),Object(O.jsx)("ul",{className:$.a.list,children:t?a.map((function(e){return Object(c.createElement)(ae,Object(o.a)(Object(o.a)({},e),{},{key:e.id,activeCategory:n,dispatch:i}))})):Object(O.jsx)("div",{className:$.a.loader,children:Object(O.jsx)("h3",{children:"Loading..."})})})]})})};var re=function(){var e=Object(l.c)(ne);return Object(O.jsx)("div",{className:"app",children:Object(O.jsxs)(s.a,{backend:r.a,children:[Object(O.jsx)(X,{}),e&&Object(O.jsx)(se,{})]})})},le=a(9),oe=a(48),de=a(49),je=a(12),me=a(34),be={breakfast:[],morningSnack:[],lunch:[],afternoonSnack:[],dinner:[]},ue={items:[],isLoaded:!1},pe={visible:!1,activeCategory:null},Oe=Object(le.combineReducers)({meals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(o.a)(Object(o.a)({},e),{},{items:t.payload});case g:return Object(o.a)(Object(o.a)({},e),{},{isLoaded:t.payload});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(o.a)(Object(o.a)({},e),{},Object(je.a)({},t.payload.category,[].concat(Object(me.a)(e[t.payload.category]),[t.payload.obj])));case k:return Object(o.a)(Object(o.a)({},e),{},Object(je.a)({},t.payload.category,Object(me.a)(e[t.payload.category].filter((function(e){return e.timestamp!==t.payload.timestamp})))));default:return e}},modalList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(o.a)(Object(o.a)({},e),{},{visible:t.payload.value,activeCategory:t.payload.type});default:return e}}}),_e=Object(le.createStore)(Oe,Object(oe.composeWithDevTools)(Object(le.applyMiddleware)(de.a)));i.a.render(Object(O.jsx)(l.a,{store:_e,children:Object(O.jsx)(re,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.f54e5df3.chunk.js.map