{"ast":null,"code":"import _objectSpread from\"/home/supremio/Desktop/react-dnd-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useDispatch,useSelector}from'react-redux';import styles from'./ModalList.module.scss';import{ModalListItem}from'./ModalListItem/ModalListItem';import{getItems}from'../../redux/selectors/mealsSelector';import{setModalListVisibility}from'../../redux/actions/modalListActionCreator';import{getModalListActiveCategory}from'../../redux/selectors/modalListSelector';import{useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";export var ModalList=function ModalList(){var _useSelector=useSelector(getItems),isLoaded=_useSelector.isLoaded,items=_useSelector.items;var activeCategory=useSelector(getModalListActiveCategory);var dispatch=useDispatch();var modalRef=useRef(null);var changeModalVisibility=function changeModalVisibility(){dispatch(setModalListVisibility(false,null));};var handleClickOutside=function handleClickOutside(e){var path=e.path||e.composedPath&&e.composedPath();if(!path.includes(modalRef.current)){dispatch(setModalListVisibility(false,null));}};useEffect(function(){window.addEventListener('mousedown',handleClickOutside);return function(){window.removeEventListener('mousedown',handleClickOutside);};//eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsx(\"div\",{className:styles.overlay,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.modalList,ref:modalRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.topSide,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recipes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:changeModalVisibility,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:styles.list,children:isLoaded?items.map(function(item){return/*#__PURE__*/_createElement(ModalListItem,_objectSpread(_objectSpread({},item),{},{key:item.id,activeCategory:activeCategory,dispatch:dispatch}));}):/*#__PURE__*/_jsx(\"div\",{className:styles.loader,children:/*#__PURE__*/_jsx(\"h3\",{children:\"Loading...\"})})})]})});};","map":{"version":3,"sources":["/home/supremio/Desktop/react-dnd-app/src/components/ModalList/ModalList.js"],"names":["useDispatch","useSelector","styles","ModalListItem","getItems","setModalListVisibility","getModalListActiveCategory","useEffect","useRef","ModalList","isLoaded","items","activeCategory","dispatch","modalRef","changeModalVisibility","handleClickOutside","e","path","composedPath","includes","current","window","addEventListener","removeEventListener","overlay","modalList","topSide","list","map","item","id","loader"],"mappings":"0JAAA,OAASA,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,OAASC,aAAT,KAA8B,+BAA9B,CACA,OAASC,QAAT,KAAyB,qCAAzB,CACA,OAASC,sBAAT,KAAuC,4CAAvC,CACA,OAASC,0BAAT,KAA2C,yCAA3C,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,C,2IAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC3B,iBAA0BR,WAAW,CAACG,QAAD,CAArC,CAAOM,QAAP,cAAOA,QAAP,CAAiBC,KAAjB,cAAiBA,KAAjB,CACA,GAAMC,CAAAA,cAAc,CAAGX,WAAW,CAACK,0BAAD,CAAlC,CAEA,GAAMO,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,CAAAA,QAAQ,CAAGN,MAAM,CAAC,IAAD,CAAvB,CAEA,GAAMO,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAChCF,QAAQ,CAACR,sBAAsB,CAAC,KAAD,CAAQ,IAAR,CAAvB,CAAR,CACH,CAFD,CAIA,GAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,CAAC,CAAI,CAC5B,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACC,IAAF,EAAWD,CAAC,CAACE,YAAF,EAAkBF,CAAC,CAACE,YAAF,EAA1C,CACA,GAAG,CAACD,IAAI,CAACE,QAAL,CAAcN,QAAQ,CAACO,OAAvB,CAAJ,CAAqC,CACjCR,QAAQ,CAACR,sBAAsB,CAAC,KAAD,CAAQ,IAAR,CAAvB,CAAR,CACH,CACJ,CALD,CAOAE,SAAS,CAAC,UAAM,CACZe,MAAM,CAACC,gBAAP,CAAwB,WAAxB,CAAqCP,kBAArC,EACA,MAAO,WAAM,CACTM,MAAM,CAACE,mBAAP,CAA2B,WAA3B,CAAwCR,kBAAxC,EACH,CAFD,CAGA;AACH,CANQ,CAMN,EANM,CAAT,CAQA,mBACI,YAAK,SAAS,CAAEd,MAAM,CAACuB,OAAvB,uBACI,aACI,SAAS,CAAEvB,MAAM,CAACwB,SADtB,CAEI,GAAG,CAAEZ,QAFT,wBAII,aAAK,SAAS,CAAEZ,MAAM,CAACyB,OAAvB,wBACI,+BADJ,cAEI,eACI,OAAO,CAAEZ,qBADb,kBAFJ,GAJJ,cAUI,WAAI,SAAS,CAAEb,MAAM,CAAC0B,IAAtB,UACMlB,QAAQ,CACNC,KAAK,CAACkB,GAAN,CAAU,SAAAC,IAAI,qBAAI,eAAC,aAAD,gCAAmBA,IAAnB,MAAyB,GAAG,CAAEA,IAAI,CAACC,EAAnC,CAAuC,cAAc,CAAEnB,cAAvD,CAAuE,QAAQ,CAAEC,QAAjF,GAAJ,EAAd,CADM,cAEN,YAAK,SAAS,CAAEX,MAAM,CAAC8B,MAAvB,uBACI,kCADJ,EAHR,EAVJ,GADJ,EADJ,CAuBH,CAlDM","sourcesContent":["import { useDispatch, useSelector } from 'react-redux'\nimport styles from './ModalList.module.scss'\nimport { ModalListItem } from './ModalListItem/ModalListItem'\nimport { getItems } from '../../redux/selectors/mealsSelector'\nimport { setModalListVisibility } from '../../redux/actions/modalListActionCreator'\nimport { getModalListActiveCategory } from '../../redux/selectors/modalListSelector'\nimport { useEffect, useRef } from 'react'\n\nexport const ModalList = () => {\n    const {isLoaded, items} = useSelector(getItems)\n    const activeCategory = useSelector(getModalListActiveCategory)\n    \n    const dispatch = useDispatch()\n\n    const modalRef = useRef(null)\n\n    const changeModalVisibility = () => {\n        dispatch(setModalListVisibility(false, null))\n    }\n\n    const handleClickOutside = e => {\n        const path = e.path || (e.composedPath && e.composedPath())\n        if(!path.includes(modalRef.current)) {\n            dispatch(setModalListVisibility(false, null))\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener('mousedown', handleClickOutside)\n        return () => {\n            window.removeEventListener('mousedown', handleClickOutside)\n        }\n        //eslint-disable-next-line\n    }, [])\n\n    return (\n        <div className={styles.overlay}>\n            <div \n                className={styles.modalList}\n                ref={modalRef}\n            >\n                <div className={styles.topSide}>\n                    <h3>Recipes</h3>\n                    <button\n                        onClick={changeModalVisibility}\n                    >&times;</button>\n                </div>\n                <ul className={styles.list}>\n                    { isLoaded ?\n                        items.map(item => <ModalListItem {...item} key={item.id} activeCategory={activeCategory} dispatch={dispatch} />) :\n                        <div className={styles.loader}>\n                            <h3>Loading...</h3>\n                        </div>\n                    }\n                </ul>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}